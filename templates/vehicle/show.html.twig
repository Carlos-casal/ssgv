{% extends 'layout/app.html.twig' %}

{% block title %}Detalles de {{ vehicle.make }} {{ vehicle.model }}{% endblock %}

{% block page_title %}Detalles de {{ vehicle.make }} {{ vehicle.model }}{% endblock %}

{% block content %}
<div class="bg-white shadow-lg rounded-lg overflow-hidden">
    <div class="md:flex">
        <!-- Columna de la Imagen -->
        <div class="md:w-1/3 p-4">
            {% if vehicle.photo %}
                <img src="{{ asset('uploads/vehicles_photos/' ~ vehicle.photo) }}" alt="Foto de {{ vehicle.make }} {{ vehicle.model }}" class="w-full h-auto object-cover rounded-lg shadow-md">
            {% else %}
                <div class="w-full h-64 bg-gray-200 rounded-lg flex items-center justify-center">
                    <span class="text-gray-500">Sin foto</span>
                </div>
            {% endif %}
        </div>

        <!-- Columna de Detalles -->
        <div class="md:w-2/3 p-6">
            <h1 class="text-3xl font-bold text-gray-800 mb-2">{{ vehicle.make }} {{ vehicle.model }}</h1>
            <p class="text-lg text-gray-600 mb-4">{{ vehicle.alias | default('Sin alias') }}</p>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-4 mt-4">
                <div>
                    <h3 class="text-sm font-semibold text-gray-500 uppercase">Matrícula</h3>
                    <p class="text-gray-900">{{ vehicle.licensePlate }}</p>
                </div>
                <div>
                    <h3 class="text-sm font-semibold text-gray-500 uppercase">Fecha de Matriculación</h3>
                    <p class="text-gray-900">{{ vehicle.registrationDate ? vehicle.registrationDate|date('d/m/Y') : 'No especificada' }}</p>
                </div>
                <div>
                    <h3 class="text-sm font-semibold text-gray-500 uppercase">Tipo de Vehículo</h3>
                    <p class="text-gray-900">{{ vehicle.type | default('No especificado') }}</p>
                </div>
                <div>
                    <h3 class="text-sm font-semibold text-gray-500 uppercase">Tipo de Combustible</h3>
                    <p class="text-gray-900">{{ vehicle.fuelType ? vehicle.fuelType.name : 'No especificado' }}</p>
                </div>
                <div>
                    <h3 class="text-sm font-semibold text-gray-500 uppercase">Tipo de Cabina</h3>
                    <p class="text-gray-900">{{ vehicle.cabinType | default('No especificado') }}</p>
                </div>
                <div>
                    <h3 class="text-sm font-semibold text-gray-500 uppercase">Recursos</h3>
                    <p class="text-gray-900">{{ vehicle.resources | default('No especificados') }}</p>
                </div>
                <div class="bg-yellow-50 p-3 rounded-lg">
                    <h3 class="text-sm font-semibold text-gray-600 uppercase">Próxima Revisión / ITV</h3>
                    <p class="text-gray-900 font-medium">{{ vehicle.nextRevisionDate ? vehicle.nextRevisionDate|date('d/m/Y') : 'No especificada' }}</p>
                </div>
                <div class="bg-blue-50 p-3 rounded-lg">
                    <h3 class="text-sm font-semibold text-gray-600 uppercase">Vencimiento del Seguro</h3>
                    <p class="text-gray-900 font-medium">{{ vehicle.insuranceDueDate ? vehicle.insuranceDueDate|date('d/m/Y') : 'No especificado' }}</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Acciones -->
    <div class="p-6 border-t border-gray-200 flex items-center justify-start gap-4">
        <a href="{{ path('app_vehicle_edit', {'id': vehicle.id}) }}" class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded">
            Editar Vehículo
        </a>
        <a href="{{ path('app_vehicle_index') }}" class="text-blue-500 hover:text-blue-800">
            Volver a la lista
        </a>
        <div class="flex-grow"></div>
        {{ include('vehicle/_delete_form.html.twig') }}
    </div>
</div>
{% endblock %}